name: Build

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
          fetch-depth: 0
      - name: Fetch Tags
        run: git fetch --prune --tags
      - name: Install System Dependencies
        run: |
          sudo apt-get install fonts-sil-gentiumplus libfontconfig1-dev libharfbuzz-dev libicu-dev liblua5.2-dev libpng-dev lua5.2 lua-sec lua-socket lua-zlib-dev luarocks
      - name: Configure
        run: |
          ./bootstrap.sh
          ./configure
      - name: Make
        run: |
          make
