name: CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@master
      with:
        fetch-depth: 1
    - name: Build Makefile
      env: # Currently BOOST_ROOT is defined but not installed: https://github.com/actions/virtual-environments/issues/83
        BOOST_ROOT:
      run: |
        echo BOOST_ROOT=${BOOST_ROOT}
        ls -lR ${BOOST_ROOT}
        pwd
        ls -alF
        cd code
        pwd
        ls -alF
        make
        make check
