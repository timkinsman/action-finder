name: XML validation

on:
  push:
    paths:
    - 'hash/*'
  pull_request:
    paths:
    - 'hash/*'

jobs:

  validate-hsi:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - name: Install dependencies
      run: |
        sudo apt-get update
        sudo apt-get install -y libxml2-utils
    - name: Validate
      run: for x in hash/*.hsi ; do xmllint --noout "$x" ; done

  validate-xml:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - name: Install dependencies
      run: |
        sudo apt-get update
        sudo apt-get install -y libxml2-utils
    - name: Validate
      run: for x in hash/*.xml ; do xmllint --noout --valid "$x" ; done
